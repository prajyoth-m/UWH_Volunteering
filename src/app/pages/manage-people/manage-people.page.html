<ion-header>
  <ion-toolbar>
    <ion-title>manage-people</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid>
    <ion-card *ngFor="let user of users" class="people">
      <ion-accordion-group>
        <ion-accordion value="details">
          <ion-item slot="header">
            <ion-grid>
              <ion-row>
                <ion-col>
                  <ion-avatar>
                    <img [src]="user.photoURL" />
                  </ion-avatar>
                </ion-col>
                <ion-col>
                  <ion-label style="margin-top: 1.5rem; margin-left: 1rem">
                    {{user.displayName}}
                  </ion-label>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-item>

          <ion-list slot="content">
            <ion-item style="align-items: center;">
              <ion-button
                expand="block"
                *ngIf="role==='admin' || role==='manager'"
                style="margin-inline-start: 12px"
                size="deafult"
              >
                Edit
                <ion-icon name="create"></ion-icon>
              </ion-button>
              <ion-button
                expand="block"
                color="danger"
                *ngIf="role==='admin'"
                style="margin-inline-start: 12px"
                size="deafult"
                (click)="deleteUser(user.id)"
              >
                Delete
                <ion-icon name="trash-bin"></ion-icon>
              </ion-button>
            </ion-item>
            <ion-item>
              <ion-icon name="mail" slot="start"></ion-icon>
              <ion-label>{{user.email}}</ion-label>
            </ion-item>
            <ion-item *ngIf="role==='admin'||role==='manager'">
              <ion-icon name="call" slot="start"></ion-icon>
              <ion-label>{{user.phoneNumber}}</ion-label>
            </ion-item>
            <ion-item>
              <ion-icon name="id-card" slot="start"></ion-icon>
              <ion-label>{{user.role}}</ion-label>
            </ion-item>
          </ion-list>
        </ion-accordion>
      </ion-accordion-group>
    </ion-card>
  </ion-grid>
</ion-content>
